async fn auth(req: Request, next: Next) -> Result<Response, StatusCode> {
    let key = req.headers().get("Authorization");

    if key != Some(&HeaderValue::from_static("Bearer supersecret")) {
        return Err(StatusCode::UNAUTHORIZED);
    }

    Ok(next.run(req).await)
}